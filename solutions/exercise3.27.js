//                           ^
//          _________________|__________________
// program |lookup:= ...                        |
// env  -> |assoc:= ...                         |
//         |insert:= ...                        |
//         |make_table:= ...                    |
//         |memoize:= ...                       |
//         |memo_fib:= -+                       |
//          ------------|-----------------------
//                      |         ^           ^
//                      |      ___|___       _|_
//                      | E1->|f: ... | E3->|   |
//                      |      -------  call ---
//                      | call    ^     to
//                      | to      |     make_table
//                      | memoize |
//                      |      ___|_________________
//                      | E2->|table:= make_table() |
//                      |      ---------------------
//                      |       ^
//                      |       |
//                    [*|*]-----+
//                     |
//                     V
//            parameter: x
//            body: ...
//
// memo_fib(3)
//                                  ^
//          ________________________|________________________
// program |lookup:= ...                                     |
// env  -> |assoc:= ...                                      |
//         |insert:= ...                                     |
//         |make_table:= ...                                 |
//         |memoize:= ...                                    |
//         |memo_fib:= -+                                    |
//          -------------------------------------------------
//             ^                     ^             ^       ^
//          ___|___       ___________|___________  |       |
//      +->|f: ... | E3->|key: 3                 | |       |
//      |   -------      |table: list("*table*") | |       |
//      |      ^          -----------------------  |       |
//      |      |     call to lookup    ^           |       |
//      |      |          _____________|_____      |       |
//      |      |     E4->|record: assoc(...) |     |       |
//      |      |          -------------------      |       |
//      |   ___|____________________       ________|_____  |
//      |  |table:= list("*table*") | E5->|key: 3        | |
//      |   ------------------------      |records: null | |
//      |         ^                        --------------  |
//      |       __|__                 call to assoc        |
//      |  E1->|x: 3 |                     ________________|_
//      |       -----                 E7->|key: 3            |
//      |         ^                       |value: f(3)       |
//      |         |                       |table: ...        |
//      |         |                        ------------------
//      |         |                   call to insert
//      |       __|__________________________________________
//      |  E2->|previously_computed_result: lookup(x, table) |
//      |      |result: f(x)                                 |
//      |       ---------------------------------------------
//      +---------+
//              __|__
//         E6->|n: 3 |
//              -----
//         call to f
//
// memo_fib(2) for memo_fib(3)
//                                  ^
//          ________________________|________________________
// program |lookup:= ...                                     |
// env  -> |assoc:= ...                                      |
//         |insert:= ...                                     |
//         |make_table:= ...                                 |
//         |memoize:= ...                                    |
//         |memo_fib:= -+                                    |
//          -------------------------------------------------
//             ^                     ^             ^       ^
//          ___|___       ___________|___________  |       |
//      +->|f: ... | E3->|key: 2                 | |       |
//      |   -------      |table: list("*table*") | |       |
//      |      ^          -----------------------  |       |
//      |      |     call to lookup    ^           |       |
//      |      |          _____________|_____      |       |
//      |      |     E4->|record: assoc(...) |     |       |
//      |      |          -------------------      |       |
//      |   ___|____________________       ________|_____  |
//      |  |table:= list("*table*") | E5->|key: 2        | |
//      |   ------------------------      |records: null | |
//      |         ^                        --------------  |
//      |       __|__                 call to assoc        |
//      |  E1->|x: 2 |                     ________________|_
//      |       -----                 E7->|key: 2            |
//      |         ^                       |value: f(2)       |
//      |         |                       |table: ...        |
//      |         |                        ------------------
//      |         |                   call to insert
//      |       __|__________________________________________
//      |  E2->|previously_computed_result: lookup(x, table) |
//      |      |result: f(x)                                 |
//      |       ---------------------------------------------
//      +---------+
//              __|__
//         E6->|n: 2 |
//              -----
//         call to f
//
// memo_fib(1) for memo_fib(2)
//                                  ^
//          ________________________|________________________
// program |lookup:= ...                                     |
// env  -> |assoc:= ...                                      |
//         |insert:= ...                                     |
//         |make_table:= ...                                 |
//         |memoize:= ...                                    |
//         |memo_fib:= -+                                    |
//          -------------------------------------------------
//             ^                     ^             ^       ^
//          ___|___       ___________|___________  |       |
//      +->|f: ... | E3->|key: 1                 | |       |
//      |   -------      |table: list("*table*") | |       |
//      |      ^          -----------------------  |       |
//      |      |     call to lookup    ^           |       |
//      |      |          _____________|_____      |       |
//      |      |     E4->|record: assoc(...) |     |       |
//      |      |          -------------------      |       |
//      |   ___|____________________       ________|_____  |
//      |  |table:= list("*table*") | E5->|key: 1        | |
//      |   ------------------------      |records: null | |
//      |         ^                        --------------  |
//      |       __|__                 call to assoc        |
//      |  E1->|x: 1 |                     ________________|______
//      |       -----                 E7->|key: 1                 |
//      |         ^                       |value: 1               |
//      |         |                       |table: list("*table*") |
//      |         |                        -----------------------
//      |         |                   call to insert
//      |       __|__________________________________________
//      |  E2->|previously_computed_result: lookup(x, table) |
//      |      |result: f(x)                                 |
//      |       ---------------------------------------------
//      +---------+
//              __|__
//         E6->|n: 1 |
//              -----
//         call to f
//
// memo_fib(0) for memo_fib(2)
//                                 ^
//          _______________________|_______________________
// program |lookup:= ...                                   |
// env  -> |assoc:= ...                                    |
//         |insert:= ...                                   |
//         |make_table:= ...                               |
//         |memoize:= ...                                  |
//         |memo_fib:= -+                                  |
//          -----------------------------------------------
//             ^                     ^            ^      ^
//          ___|___       ___________|__________  |      |
//      +->|f: ... | E3->|key: 0                | |      |
//      |   -------      |table: (...key: 1...) | |      |
//      |      ^          ----------------------  |      |
//      |      |     call to lookup    ^          |      |
//      |      |          _____________|_____     |      |
//      |      |     E4->|record: assoc(...) |    |      |
//      |      |          -------------------     |      |
//      |   ___|___________________       ________|____  |
//      |  |table:= (...key: 1...) | E5->|key: 0       | |
//      |   -----------------------      |records: ... | |
//      |         ^                       -------------  |
//      |       __|__                call to assoc       |
//      |  E1->|x: 0 |                    _______________|______
//      |       -----                E7->|key: 0                |
//      |         ^                      |value: 0              |
//      |         |                      |table: (...key: 1...) |
//      |         |                       ----------------------
//      |         |                  call to insert
//      |       __|__________________________________________
//      |  E2->|previously_computed_result: lookup(x, table) |
//      |      |result: f(x)                                 |
//      |       ---------------------------------------------
//      +---------+
//              __|__
//         E6->|n: 0 |
//              -----
//         call to f
//
// memo_fib(1) for memo_fib(3)
//                             ^
//          ___________________|____________________
// program |lookup:= ...                            |
// env  -> |assoc:= ...                             |
//         |insert:= ...                            |
//         |make_table:= ...                        |
//         |memoize:= ...                           |
//         |memo_fib:= -+                           |
//          ----------------------------------------
//             ^                     ^            ^
//          ___|___       ___________|__________  |
//         |f: ... | E3->|key: 1                | |
//          -------      |table: (...key: 1...  | |
//              ^        |        ...key: 0...) | |
//              |         ----------------------  |
//              |    call to lookup    ^          |
//              |         _____________|_____     |
//              |    E4->|record: assoc(...) |    |
//              |         -------------------     |
//          ____|__________________       ________|____
//         |table:= (...key: 1...  | E5->|key: 1       |
//         |         ...key: 0...) |     |records: ... |
//          -----------------------       -------------
//                ^                  call to assoc
//              __|__
//         E1->|x: 1 |
//              -----
//                ^
//              __|__________________________________________
//         E2->|previously_computed_result: lookup(x, table) |
//              ---------------------------------------------
//
//
// When evaluating memo_fib(n), it computes Fibonacci numbers from n-1
// down to 0 and memorizes the results. The next time it needs to
// compute Fibonacci numbers that have already been computed,
// it retrieves the results from the table. Therefore,
// the order of growth in the number of steps required by memo_fib(n)
// is O(n).
//
// If we define memo_fib as memoize(fib), the recursive calls will use fib
// directly and will not memorize the results. As a result,
// the order of growth in the number of steps remains O(2^n).
