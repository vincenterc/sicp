//                 ^
//          _______|_______
// program |pair:= ...     |
// env  -> |head:= ...     |
//         |tail:= ...     |
//         |set_head:= ... |
//         |set_tail:= ... |
//          ---------------
//
// const x = pair(1, 2)
//                   ^
//          _________|__________
// program |pair:= ...          |
// env  -> |head:= ...          |
//         |tail:= ...          |
//         |set_head:= ...      |
//         |set_tail:= ...      |
//         |x:= -+              |
//          -----|--------------
//               |       ^
//               |     __|__
//               |    |x: 1 |
//               |    |y: 2 |
//               |     -----
//               |       ^
//               |  _____|______
//               | |set_x:= ... |
//               | |set_y:= ... |
//               |  ------------
//               |       ^
//               |       |
//             [*|*]-----+
//              |
//              V
//     parameter: m
//     body: return m === "head"
//                  ? x
//                  : m === "tail"
//                  ? y
//                  : m === "set_head"
//                  ? set_x
//                  : m === "set_tail"
//                  ? set_y
//                  : error(m, "undefined operation -- pair");
//
// const z = pair(x, x);
//                            ^
//          __________________|__________________
// program |pair:= ...                           |
// env  -> |head:= ...                           |
//         |tail:= ...                           |
//         |set_head:= ...                       |
//         |set_tail:= ...                       |
//         |z:= ------------------+              |
//         |x:= -+                |              |
//          -----|----------------|--------------
//               |       ^        |       ^
//               |     __|__      |     __|__
//               |    |x: 1 |     |    |x: x |
//               |    |y: 2 |     |    |y: x |
//               |     -----      |     -----
//               |       ^        |       ^
//               |  _____|______  |  _____|______
//               | |set_x:= ... | | |set_x:= ... |
//               | |set_y:= ... | | |set_y:= ... |
//               |  ------------  |  ------------
//               |       ^        |       ^
//               |       |        |       |
//             [*|*]-----+      [*|*]-----+
//              |                |
//              V                |
//     parameter: m <------------+
//     body: ...
//
// set_head(tail(z), 17);
//                                         ^
//          _______________________________|________________________________
// program |pair:= ...                                                      |
// env  -> |head:= ...                                                      |
//         |tail:= ...                                                      |
//         |set_head:= ...                                                  |
//         |set_tail:= ...                                                  |
//         |z:= ---------------------------+                                |
//         |x:= -+                         |                                |<---+
//          -----|-------------------------|--------------------------------     |
//               |       ^                 |       ^               ^             |
//               |     __|__               |     __|__           __|__           |
//               |    |x: 1 |              |    |x: x |     E1->|z: z |          |
//               |    |y: 2 |              |    |y: x |          -----           |
//               |     -----               |     -----      return z("tail");    |
//               |       ^                 |       ^             ______________  |
//               |  _____|______           |  _____|______  E3->|z: x          |-+
//               | |set_x:= ... |          | |set_x:= ... |     |new_value: 17 |
//               | |set_y:= ... |<-----+   | |set_y:= ... |      --------------
//               |  ------------       |   |  ------------  z("set_head")(new_value);
//               |    ^      ^         |   |     ^    ^     return z
//               |    |      |         |   |     |    |
//             [*|*]--+      |         | [*|*]---+    |
//              |      ______|_______  |  |       ____|_____
//              | E4->|m: "set_head" | |  |  E2->|m: "tail" |
//              |      --------------  |  |       ----------
//              | return set_x;        |  |  return y;
//              |      ______          |  |
//              | E5->|v: 17 |---------+  |
//              |      ------             |
//              | x = v;                  |
//              V                         |
//     parameter: m <---------------------+
//     body: ...

// head(x);
//                                     ^
//          ___________________________|____________________________
// program |pair:= ...                                              |
// env  -> |head:= ...                                              |
//         |tail:= ...                                              |
//         |set_head:= ...                                          |
//         |set_tail:= ...                                          |
//         |z:= -------------------+                                |
//         |x:= -+                 |                                |
//          -----|-----------------|--------------------------------
//               |       ^         |       ^               ^
//               |     __|___      |     __|__           __|__
//               |    |x: 17 |     |    |x: x |     E1->|z: x |
//               |    |y: 2  |     |    |y: x |          -----
//               |     ------      |     -----      return z("head");
//               |       ^         |       ^
//               |  _____|______   |  _____|______
//               | |set_x:= ... |  | |set_x:= ... |
//               | |set_y:= ... |  | |set_y:= ... |
//               |  ------------   |  ------------
//               |      ^  ^       |       ^
//               |      |  |       |       |
//             [*|*]----+  |      [*|*]----+
//              |      ____|_____  |
//              | E2->|m: "head" | |
//              |      ----------  |
//              | return x;        |
//              V                  |
//     parameter: m <--------------+
//     body: ...
